webpackJsonp([3],{"3r88":function(e,t){},"4gGn":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Nl9W"),i=a("mvHQ"),n=a.n(i),r=a("vgQg"),s={name:"AddCustom",components:{},data:function(){return{selectedOptions:[],options:this.selectedOptions,productSeries:JSON.parse(n()(r.a)),dialogVisible:!1,addSaleForm:{saleDate:new Date,name:"",mobile:"",remarks:"",product:""},addSaleRules:{product:[{required:!0,message:"请选择产品",trigger:"blur"}]},knowWayOptions:[{label:"朋友",value:"1"},{label:"地推",value:"2"},{label:"其他",value:"4"}]}},methods:{open:function(){this.dialogVisible=!0},submitForm:function(){var e=this;this.$refs.addSaleForm.validate(function(t){if(!t)return alert("请输入正确的信息"),!1;e.openDialog("addCustomConfirm",e.addSaleForm)})},resetForm:function(){this.$refs.addSaleForm.resetFields()},addSuccess:function(){this.dialogVisible=!1}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"append-to-body":"",visible:e.dialogVisible,title:"添加订单","custom-class":"add-custom"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"content"},[a("el-form",{ref:"addSaleForm",attrs:{model:e.addSaleForm,rules:e.addSaleRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"日期",prop:"name"}},[a("el-date-picker",{attrs:{disabled:"",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日"},model:{value:e.addSaleForm.saleDate,callback:function(t){e.$set(e.addSaleForm,"saleDate",t)},expression:"addSaleForm.saleDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.addSaleForm.name,callback:function(t){e.$set(e.addSaleForm,"name",t)},expression:"addSaleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品"}},[a("el-cascader",{attrs:{options:e.options},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认识途径",prop:"knowWay"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"备注"},model:{value:e.addSaleForm.remarks,callback:function(t){e.$set(e.addSaleForm,"remarks",t)},expression:"addSaleForm.remarks"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!e.dialogVisible}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确定")])],1)])},staticRenderFns:[]},c={components:{MyTable:function(){return a.e(18).then(a.bind(null,"JE0o"))}},data:function(){this.$createElement;return{dialogVisible:!1,totalCount:0,totalMoney:0,tableData:{col:[{prop:"saleNum",label:"订单编号",width:"120",align:"center"},{prop:"customName",label:"客户名",width:"120",align:"center"},{prop:"orderDetail",label:"订单详情",align:"left",children:[{label:"商品",prop:"proName",width:"150",align:"left",render:function(e,t){return e("div",[t.row.proName," ",""!==t.row.proSize?"("+t.row.proSize+")":""])}},{label:"数量",prop:"proCount",render:function(e,t){return e("div",[t.row.proCount])}},{label:"价格",prop:"proPrice",align:"right",render:function(e,t){return e("div",[t.row.proPrice])}}]},{prop:"gift",label:"赠品",width:"120",align:"left",render:function(e,t){return e("div",[t.row.gift.map(function(t){return e("div",{class:"item"},[t.label," ",""!==t.size?"("+t.size+")":"","  ",t.count])})])}},{prop:"carriage",label:"运费",width:"80",align:"right"},{prop:"remark",label:"备注",align:"left"}],data:[{saleNum:"20190130",customName:"嫂子",orderDetail:"",proName:"丝柔纸尿裤",proSize:"M",proCount:3,proPrice:352,gift:[{label:"安睡裤",size:"S-M",count:"1"},{label:"柔纸巾",size:"",count:"1"}],carriage:"8",remark:"参加亲子节活动499-50"},{saleNum:"",customName:"",proName:"丝薄纸尿裤",proSize:"L",proCount:2,proPrice:352,carriage:"",remark:""},{saleNum:"",customName:"",proName:"果C纸尿裤",proSize:"L",proCount:2,proPrice:316,carriage:"",remark:""}]}}},created:function(){this.statistics()},methods:{open:function(){this.dialogVisible=!0},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex,l=this.tableData.data.length;if(2!==a&&3!==a&&4!==a)return t%l==0?{rowspan:l,colspan:1}:{rowspan:0,colspan:0}},formatePrice:function(e){return"￥"+e},statistics:function(){var e=this;this.totalCount=0,this.totalMoney=0,this.tableData.data.forEach(function(t){e.totalCount+=t.proCount,e.totalMoney+=Number(t.proPrice)})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogVisible,title:"出货单详情","custom-class":"sale-detail"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"content"},[a("my-table",{attrs:{col:e.tableData.col,data:e.tableData.data,border:"",stripe:"","span-method":e.objectSpanMethod}}),e._v(" "),a("div",{staticClass:"statistics"},[e._v("数量："),a("span",{staticClass:"red"},[e._v(e._s(e.totalCount)+" 件")]),e._v(" 合计："),a("span",{staticClass:"red"},[e._v(e._s(e.totalMoney)+" 元")])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"}},[e._v("确定")])],1)])},staticRenderFns:[]};var d={searchSelect:[{name:"date",label:"日期",defined:!1,data:[{label:"全部",value:""},{label:"上一个月",value:"2"},{label:"当月",value:"3"},{label:"昨日",value:"4"},{label:"今日",value:"5"}]},{name:"customName",label:"客户",data:[]}],searchData:{date:"",customName:""}},p={name:"SalesList",components:{WhiteBox:function(){return a.e(19).then(a.bind(null,"De+3"))},MyTable:function(){return a.e(18).then(a.bind(null,"JE0o"))},AddSales:a("VU/8")(s,o,!1,null,null,null).exports,SaleDetail:a("VU/8")(c,u,!1,function(e){a("zNTp")},"data-v-1539d4f2",null).exports,TopSearch:l.a},data:function(){var e=this;this.$createElement;return{searchData:d,tableData:{col:[{label:"订单号",prop:"saleNum",width:"120",align:"center",render:function(t,a){return t("div",[t("el-button",{attrs:{type:"text"},on:{click:function(){e.openDialog("saleDetail")}}},[a.row.saleNum])])}},{label:"客户名",prop:"customName",align:"center"},{label:"日期",prop:"date",align:"center"},{label:"总价",prop:"samllTotal",align:"right"},{label:"运费",prop:"carriage",align:"right"}],data:[{saleNum:"20190113",customName:"嫂子",product:"丝柔纸尿裤（M）",count:"3包",date:"20190112",price:"",samllTotal:"314.5",carriage:""},{saleNum:"20190413",customName:"嫂子",product:"丝柔纸尿裤（M）",count:"3包",date:"20190112",price:"",samllTotal:"314.5",carriage:""}]},saleDate:"",customName:"",customOptions:[{label:"全部",value:"all"},{label:"张威",value:"zhangwei"}]}},methods:{openDialog:function(e){this.$refs[e].open()},handleDel:function(e){console.log("删除")}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sales-list"},[a("top-search",{attrs:{multiple:!1,searchData:e.searchData.searchData,searchSelect:e.searchData.searchSelect,labelWidth:"100px"}},[a("template",{slot:"date-right"},[a("el-date-picker",{attrs:{size:"mini",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","range-separator":"至"},model:{value:e.saleDate,callback:function(t){e.saleDate=t},expression:"saleDate"}})],1),e._v(" "),a("template",{slot:"customName-right"},[a("el-select",{attrs:{size:"mini"},model:{value:e.customName,callback:function(t){e.customName=t},expression:"customName"}},e._l(e.customOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],2),e._v(" "),a("white-box",{attrs:{width:"100%"}},[a("template",{slot:"content"},[a("my-table",{attrs:{col:e.tableData.col,data:e.tableData.data,border:"",stripe:"",showIndex:"",selection:"",operation:"",operationWidth:"100",operationAlign:"center"},scopedSlots:e._u([{key:"operation",fn:function(t){return a("div",{},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openDialog("saleDetail")}}},[e._v("详情")])],1)}}])})],1)],2),e._v(" "),a("div",{staticClass:"dialogs"},[a("add-sales",{ref:"addSales"}),e._v(" "),a("sale-detail",{ref:"saleDetail"})],1)],1)},staticRenderFns:[]};var h=a("VU/8")(p,m,!1,function(e){a("Ukad")},"data-v-30537896",null);t.default=h.exports},Nl9W:function(e,t,a){"use strict";var l=a("mvHQ"),i=a.n(l),n=(a("3r88"),{components:{},props:{labelWidth:{type:String,default:"80px"},inline:{type:Boolean,default:!1},labelPosition:{type:String,default:"right"},hasToggle:{type:Boolean,default:!0},toggleIndex:{type:[Number,String],default:0},searchSelect:{type:Array},searchData:{type:Object},multiple:{type:Boolean,default:!0}},data:function(){return{toggle:!0,searchQuery:this.searchData,sliceSelect:{},defaultSearch:JSON.parse(i()(this.searchData)),allSearchData:[]}},computed:{toggleText:function(){return this.toggle?"收起":"展开"}},created:function(){this.sliceSearchSelect()},methods:{sliceSearchSelect:function(){var e=this.searchSelect.slice(0,+this.toggleIndex+1),t=this.searchSelect.slice(+this.toggleIndex+1);this.sliceSelect={normal:e,toggle:t}},handleSearch:function(){this.$emit("search",this.searchQuery)},handleClick:function(e,t){var a=e.name;if(this.multiple){var l=_.findIndex(this.searchQuery[a],function(e){return e===t});l>-1?this.searchQuery[a].splice(l,1):""===t?this.searchQuery[a]=[]:this.searchQuery[a].push(t)}else this.$set(this.searchQuery,a,t);this.multiple||this.$emit("search",this.searchQuery),this.$emit("search-item-click",e,t)},handleReset:function(){this.searchQuery=this.defaultSearch},handleToggle:function(){this.toggle=!this.toggle},handleDefined:function(e){this.$emit("fatherDefined",e)},setActive:function(e,t){var a=e.name,l=this.searchQuery[a];return this.multiple?""===t&&0===l.length||_.findIndex(l,function(e){return e===t})>-1:l===t}},watch:{searchData:function(e){this.searchQuery=e}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-search-area"},[a("div",{staticClass:"search-con"},[a("el-form",{staticClass:"search-item",attrs:{model:e.searchQuery,"label-width":e.labelWidth,inline:e.inline,"label-position":e.labelPosition}},[a("div",{class:["search-area"]},[e._t("search-top"),e._v(" "),e._l(e.sliceSelect.normal,function(t,l){return[a("el-form-item",{key:"index",attrs:{label:t.label+"："}},[a("div",{staticClass:"item-select"},[e.$slots[t.name]?e._e():[e._l(t.data||[],function(l,i){return a("span",{key:i,class:["select-span",{active:e.setActive(t,l.value)}],on:{click:function(a){return e.handleClick(t,l.value)}}},[e._v("\n                  "+e._s(l.label)+"\n                ")])}),e._v(" "),t.defined?a("span",{staticClass:"defined",on:{click:function(a){return e.handleDefined(t.name)}}},[a("i",{staticClass:"el-icon-plus"}),e._v("自定义")]):e._e(),e._v(" "),a("div",{staticClass:"search-item-right"},[e._t(t.name+"-right")],2)],e._v(" "),e._t(t.name)],2)])]}),e._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.toggle,expression:"toggle"}],staticClass:"toggle-area"},[e._l(e.sliceSelect.toggle,function(t,l){return[a("el-form-item",{key:l,attrs:{label:t.label+"："}},[a("div",{staticClass:"item-select"},[e.$slots[t.name]?e._e():[e._l(t.data||[],function(l,i){return a("span",{key:i,class:["select-span",{active:e.setActive(t,l.value)}],on:{click:function(a){return e.handleClick(t,l.value)}}},[e._v(e._s(l.label))])}),e._v(" "),t.defined?a("span",{staticClass:"defined",on:{click:function(a){return e.handleDefined(t.name)}}},[a("i",{staticClass:"el-icon-plus"}),e._v("自定义")]):e._e(),e._v(" "),a("div",{staticClass:"search-item-right"},[e._t(t.name+"-right")],2)],e._v(" "),e._t(t.name)],2)])]})],2)])],2),e._v(" "),e.allSearchData.length?a("div",{staticClass:"selected-filter"},[a("span",[e._v("已选择条件：")]),e._v(" "),e._l(e.allSearchData,function(t,l){return a("el-tag",{key:l},[a("span",[e._v(e._s(t.label)+":")]),e._v(" "),a("span",[e._v(e._s(t.value.map(function(e){return e.label}).join("、")))])])})],2):e._e(),e._v(" "),e._t("search-item-bottom"),e._v(" "),a("el-form-item",{staticClass:"search-btn-item"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.handleSearch}},[e._v("重置")])],1)],2),e._v(" "),e.hasToggle?a("span",{staticClass:"toggle-show",on:{click:e.handleToggle}},[e._v(e._s(e.toggleText))]):e._e()],1)])},staticRenderFns:[]},s=a("VU/8")(n,r,!1,null,null,null);t.a=s.exports},Ukad:function(e,t){},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(e,t,a){var l=a("FeBl"),i=l.JSON||(l.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},zNTp:function(e,t){}});
//# sourceMappingURL=3.e55256272af00c97368e.js.map